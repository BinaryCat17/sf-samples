{
    "nodes": [
        { "id": "out", "type": "Output", "data": {"shape": [600, 800, 4], "dtype": "f32"} },
        { "id": "font", "type": "Input", "data": {"shape": [262144], "dtype": "f32"} },
        { "id": "font_info", "type": "Input", "data": {"shape": [9600], "dtype": "f32"} },
        { "id": "time", "type": "Input", "data": {"shape": [], "dtype": "f32"} },
        
        { "id": "msg", "type": "Const", "data": {"value": "Hello, SionFlow! Привет!"} },
        { "id": "pos", "type": "Const", "data": {"value": [50.0, 100.0]} },
        { "id": "size", "type": "Const", "data": {"value": 48.0} },
        
        { "id": "pixel_x", "type": "Input", "data": {"shape": [], "dtype": "f32"} },
        { "id": "pixel_y", "type": "Input", "data": {"shape": [], "dtype": "f32"} },

        { "id": "draw_text", "type": "Call", "data": {"path": "../../lib/text/render_text.json"} },
        
        { "id": "channel", "type": "Input", "data": {"shape": [], "dtype": "f32"} },
        { "id": "c3", "type": "Const", "data": {"value": 3.0} },
        { "id": "is_alpha_chan", "type": "Equal" },
        
        { "id": "one", "type": "Const", "data": {"value": 1.0} },
        { "id": "final_color", "type": "Select" }
    ],
    "links": [
        { "src": "pos", "dst": "draw_text", "dst_port": "pos" },
        { "src": "msg", "dst": "draw_text", "dst_port": "text" },
        { "src": "font", "dst": "draw_text", "dst_port": "fontatlas" },
        { "src": "font_info", "dst": "draw_text", "dst_port": "fontinfo" },
        { "src": "size", "dst": "draw_text", "dst_port": "fontsize" },
        { "src": "pixel_x", "dst": "draw_text", "dst_port": "pixelx" },
        { "src": "pixel_y", "dst": "draw_text", "dst_port": "pixely" },
        
        { "src": "channel", "dst": "is_alpha_chan", "dst_port": "a" },
        { "src": "c3", "dst": "is_alpha_chan", "dst_port": "b" },
        
        { "src": "is_alpha_chan", "dst": "final_color", "dst_port": "cond" },
        { "src": "one", "dst": "final_color", "dst_port": "true" },
        { "src": "draw_text", "src_port": "alpha", "dst": "final_color", "dst_port": "false" },
        
        { "src": "final_color", "dst": "out", "dst_port": "in" }
    ]
}
